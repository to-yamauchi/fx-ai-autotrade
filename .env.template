# FX自動トレードシステム 環境変数設定テンプレート
# このファイルをコピーして .env ファイルを作成し、実際の値を設定してください
# 注意: .envファイルはGitにコミットしないでください

# ========================================
# トレードモード設定
# ========================================
# TRADE_MODE: backtest / demo / live
#   backtest: 過去データでシミュレーション（data/tick_data使用、MT5接続不要）
#   demo:     リアルタイムデータでDEMO口座取引（MT5から取得、DEMO口座使用）
#   live:     リアルタイムデータで本番口座取引（MT5から取得、本番口座使用）
TRADE_MODE=backtest

# ========================================
# バックテストモード設定（TRADE_MODE=backtestの場合のみ使用）
# ========================================
# バックテスト期間（YYYY-MM-DD形式）
BACKTEST_START_DATE=2024-09-01
BACKTEST_END_DATE=2024-09-30

# バックテスト対象シンボル
BACKTEST_SYMBOL=USDJPY

# バックテスト初期残高（円）
BACKTEST_INITIAL_BALANCE=1000000

# バックテストティックデータパス（オプション）
# 指定しない場合、またはコメントアウトした場合はMT5からデータを取得します
# 単一ZIPファイル: data/tick_data/USDJPY/ticks_USDJPY-oj5k_2024-01.zip
# ディレクトリ: data/tick_data/USDJPY/
# 単一CSVファイル: data/ticks/USDJPY_2024-01.csv
BACKTEST_CSV_PATH=data/tick_data/USDJPY/ticks_USDJPY-oj5k_2024-01.zip

# ========================================
# Gemini API設定
# ========================================
GEMINI_API_KEY=your_gemini_api_key_here

# Geminiモデル設定
# 最新のモデル名はこちらで確認: https://ai.google.dev/gemini-api/docs/models
# Phase 1 (デイリーレビュー) & Phase 2 (朝の詳細分析) 用
GEMINI_MODEL_PRO=gemini-2.5-flash

# Phase 3 (定期更新 12:00/16:00/21:30) 用
GEMINI_MODEL_FLASH=gemini-2.5-flash

# Phase 4 (Layer 3a監視 15分ごと) 用
GEMINI_MODEL_FLASH_8B=gemini-2.5-flash

# AI分析パラメータ
# 温度設定（0.0-1.0、低いほど決定論的）
AI_TEMPERATURE_PRO=0.3
AI_TEMPERATURE_FLASH=0.3
AI_TEMPERATURE_FLASH_8B=0.2

# 最大トークン数
AI_MAX_TOKENS_PRO=3000
AI_MAX_TOKENS_FLASH=2000
AI_MAX_TOKENS_FLASH_8B=500

# ========================================
# リスク管理設定
# ========================================
# デフォルトポジションサイズ（ロット数）
POSITION_SIZE_DEFAULT=0.1

# 最大同時ポジション数
MAX_POSITIONS=3

# 口座リスク率（1トレードあたりの最大損失 %）
RISK_PER_TRADE=2.0

# ストップロス（pips）
DEFAULT_STOP_LOSS_PIPS=50

# テイクプロフィット（pips）
DEFAULT_TAKE_PROFIT_PIPS=100

# ========================================
# テクニカル指標パラメータ
# ========================================
# EMA（指数移動平均）
EMA_SHORT_PERIOD=20
EMA_LONG_PERIOD=50

# RSI（相対力指数）
RSI_PERIOD=14
RSI_OVERBOUGHT=70
RSI_OVERSOLD=30

# MACD
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9

# ATR（平均真実範囲）
ATR_PERIOD=14

# ボリンジャーバンド
BOLLINGER_PERIOD=20
BOLLINGER_STD_DEV=2.0

# サポート&レジスタンス
SUPPORT_RESISTANCE_WINDOW=20

# ========================================
# Layer 3監視設定
# ========================================
# Layer 3a監視間隔（分）
LAYER3A_MONITOR_INTERVAL=15

# 異常検知の閾値
# 価格変動閾値（%）
ANOMALY_PRICE_CHANGE_THRESHOLD=0.5

# スプレッド拡大閾値（通常の何倍）
ANOMALY_SPREAD_MULTIPLIER=3.0

# ボラティリティ閾値（ATRの何倍）
ANOMALY_VOLATILITY_MULTIPLIER=2.0

# 含み損閾値（%）
ANOMALY_DRAWDOWN_THRESHOLD=3.0

# ========================================
# MetaTrader5設定（DEMO口座）
# TRADE_MODE=demoの場合に使用
# ========================================
MT5_LOGIN=your_mt5_login_number
MT5_PASSWORD=your_mt5_password
MT5_SERVER=your_mt5_server_name

# ========================================
# MetaTrader5設定（本番口座）
# TRADE_MODE=liveの場合に使用
# 注意: 本番口座の情報は厳重に管理してください
# ========================================
MT5_LIVE_LOGIN=
MT5_LIVE_PASSWORD=
MT5_LIVE_SERVER=

# ========================================
# PostgreSQLデータベース設定
# ========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=fx_autotrade
DB_USER=postgres
DB_PASSWORD=your_database_password

# ========================================
# ロギング設定
# ========================================
LOG_LEVEL=INFO
LOG_FILE=logs/fx_autotrade.log

# デバッグモード（詳細ログ出力）
DEBUG_MODE=false
